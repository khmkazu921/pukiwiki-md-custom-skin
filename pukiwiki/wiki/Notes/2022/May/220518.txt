#notemd
# Status Meeting

  - cell instance = cell type
      - name has function, driving, gate length, size etc.
  - scenario, cadence view
  - high temp+low voltage :: wire registance
  - low temp :: max cell delay
  - derate :: globally apply in the past

## Formal Verification-Formality, Sakata-san

### Formality

  - comparing Reference design vs Netlist after synthesis and
    optimization
  - 3 steps exist
  - Match vs Verify
      - Match  
        see dissapare Primary I/O, FF, SRAM etc. with the name of cells
          - change name may cause unmatch errors
      - Verify  
        see signal values if matching
  - SVF file :: Synopsys Formality File, Formality Guide Files
  - See startpoint and endpoint
  - Golden netlist :: 神様, basis, master
  - Human Errors

# DE knowledge sharing

## Level Shifter Sassa-san

  - VDDL vs VDDH
  - When using Always on buffer (AON)
      - Low to High Level Shifter <span class="underline">or</span>
        Isolation buffer
  - PG pin issues

## Genus NXT Sassa-san

  - Cell density control
  - To enable a mode of coarse placement
      - `placer_max_cell_density_threshold`
  - To enable clock power estimation (single scenario)
      - `set_power_prediction true`

## Genus Physical Takemoto-san

  - Power estimation
      - `set_default_activity -duty 0.5 -freq 0.1 -clock related`
  - **variables b/w tools**

## Physical-aware Synthesis Otsuji-san

  - P\&R skips `initial_place`, `initial_drc`
      - equivalent to `place_opt.flow.do_spg true`
      - why?
  - GP yields smaller cell area than DCNXT

## Takashima-san

  - Useful Skew for Power Reduction

## Useful Skew Sakurada-san

  - Trial-CTS transform into `propagated` clock
  - `report_clock_balance_point`
  - Unmatch :: log of `ungroup`

## Useful Skew Lin-san

  - CTS tries 4 times
  - Timing is resolved by data path optimization \> we should tighten
    timing constraints to apply pressure on the clock network
  - restrict LVT

# Self Study

  - Cell Characterize  
    Timing, Power analysisに必要な数値情報を，セル 単位であらかじめ用意すること。
    
      - SPICE（Simulation Program with Integrated Circuit Emphasis）のよう
        な回路シミュレーションを使って，データを収集する
      - このデータは，EDA標準化機関の米Si2（Silicon Integration Initiative)が制定した
        **Liberty** 形式で記述することが一般的である。 (link:
        <https://xtech.nikkei.com/dm/article/WORD/20090107/163762/>)

## ICC II Unit 6 Appendix

  - SG  
    Scaling Groups
    
      - <span class="underline">interpolate between any voltage and
        temperature</span> bounded by the four .db PVT conditions.
      - Typically not used for tape-out
      - Need to be created in *ICC II Library Manager*
      - By default, all defined scaling groups may be used on every
        corner.
      - VTs need to form a rectangular grid

<!-- end list -->

  - POCV
      - fabric mesurements
          - V_th  
            threshold voltage
          - L_eff  
            effective channel length
          - I_on  
            on current
          - I_off  
            off current
          - W  
            width
          - t_ox  
            gate oxide thicness
      - POCV handles non-Gaussian delay distributions
  - OCV modeling
      - *\~/Notes/img/corners.png*
        
        ``` tcl
        set_input_delay -max 6.0 -clock CLK [get_ports IN1]
        set_input_delay -min 2.7 -clock CLK [get_ports IN1]
        ```

## ICC II Unit 7

  - Goals of Clock Tree Synthesis
      - Build the clock tree buffer structure
      - Route the clock nets
      - Optimize datapath logic for setup and hold timing, and DRCs
  - Classic CTS vs CCD
  - Pre-CTS check :: create EMS database
      - EMS database  
        Enhanced Messaging System, to store checking results
    <!-- end list -->
      - `check_design` for Clock Tree
          - Clock definitions and propagation
          - Reference cells
          - Skew balancing
          - MV :: address Multi-Voltage violation
          - Capacitance and Transition constraints
          - `dont_touch` nets in clock network
      - CTS is for all clocks in all active setup and/or hold scenarios
  - Hold Fixing
  - Scan Chain reordering
  - CRP :: Clock Reconvergence Pessimism
      - To reduce OCV effects, clock trees try to share as many buffers
        as possible
  - Congestion-Aware Initial CTS
      - Virtual routing (VR)  
        uses the shortest Manhattan distance between two points to
        estimate wire lengths.
          - VR does not consider areas with high congestion with routing
            blockages.
      - Global routing (GR)  
        sees congestion and routing blockages, and either routes around
        these areas, or uses higher (not congested or blocked) routing
        layers.
          - GR more accurately predicts what the final detail routing
            will look like.
    <!-- end list -->
      - `build_clock` is not congestion aware
          - Pre- vs. post-route clock skew, latency, and logical DRC
            degradation. Congestion hotspots. Route DRCs.
          - Two steps: CTS + CTO (clock tree optimization)
          - By default, CTS uses virtual routing, but CTO uses global
            routing.
  - Local Skew Optimization (vs Global Skew)
      - can relax skew target
      - ensures that timing related registers have minimal skew.
      - makes sure that skew/latency/DRCs across scenarios are not
        degraded.
      - CCD :: local skew CTS and CTO are enabled by default
      - calculates relaxed skew targets
      - **Trade-off** of relaxed skew
          - saves clock area
          - add extra hold buffers on the data path.
  - CCD and Boundary Register
      - You may want to prevent latency adjustment on boundary registers
      - I/O timing constraints are not well defined, so conservative
        constraints may be used. CCD creates *“useful skew”* to meet
        timing, which can cause large skews on I/O registers.
      - **Trade-off** of CCD skewing:
          - timing QoR improvement
          - uniformity (the quality being the same) of the clock tree
      - QoR :: quality of results
      - It is possible to skip CCD on particular Path Groups, but
        Datapath optimization will still be performed.
  - Hold Criticality
      - You can use prioritize hold when:
          - fixing hold is difficult
          - area-critical \> to avoid the hold-buffer
  - `opt.common.allow_physical_feedthrough`
      - A physical feedthrough cell  
        physically belongs to a voltage area, but logically does not.
  - *Atomic commands* can be used for analyze intermediate results.
  - Post-CTS
      - Problems  
        miscorrelation between global route (`build_clock`) and detail
        route (`route_clock`)
      - Solution: Post-CTS  
        Works on detail-routed clock trees
  - CCD Power or Area Recovery
      - can recover power or area from the clock network
      - without any timing QoR impact
      - Choose between power or area recovery:
          - Power  
            Should use accurate SAIF files for accurate dynamic power
            calculation
          - Area  
            Use if accurate SAIF files are not available or if area is
            an optimization goal
